{
  "lesson_id": "correction_v3a",
  "lesson_name": "Corrections: Complex Multi-Step Patterns",
  "description": "Targeted corrections for the 6 weakest categories from v3 exam: movement_patrol, whileloop+random, multi_cast, gate+widget, spawn+string, conditional_clamp. 5-8 examples per weak area.",
  "created": "2026-02-27",
  "prompts": [
    {
      "id": "C3A_01",
      "category": "patrol_simple",
      "instruction": "Create a Blueprint with two vector variables PointA and PointB. On Tick, lerp the actor position between them using a float Alpha that increases each frame.",
      "expected_dsl": "BLUEPRINT: BP_SimplePatrol\nPARENT: Actor\nVAR PointA: Vector\nVAR PointB: Vector\nVAR Alpha: Float = 0.0\nGRAPH: EventGraph\nNODE n1: Event_Tick\nNODE n2: VariableGet [VarName=Alpha]\nNODE n3: AddFloat [B=0.01]\nNODE n4: VariableSet [VarName=Alpha]\nNODE n5: VariableGet [VarName=PointA]\nNODE n6: VariableGet [VarName=PointB]\nNODE n7: Lerp\nNODE n8: SetActorLocation\nEXEC n1.Then -> n4.Execute\nDATA n2.Value -> n3.A [Float]\nDATA n1.DeltaSeconds -> n3.B [Float]\nDATA n3.ReturnValue -> n4.Value [Float]\nEXEC n4.Then -> n8.Execute\nDATA n5.Value -> n7.A [Vector]\nDATA n6.Value -> n7.B [Vector]\nDATA n4.Value -> n7.Alpha [Float]\nDATA n7.ReturnValue -> n8.NewLocation [Vector]"
    },
    {
      "id": "C3A_02",
      "category": "patrol_ping_pong",
      "instruction": "Create a Blueprint that moves between PointA and PointB. Use Alpha going 0 to 1. When Alpha exceeds 1, set direction to -1. When below 0, set direction to 1.",
      "expected_dsl": "BLUEPRINT: BP_PingPong\nPARENT: Actor\nVAR PointA: Vector\nVAR PointB: Vector\nVAR Alpha: Float = 0.0\nVAR Direction: Float = 1.0\nGRAPH: EventGraph\nNODE n1: Event_Tick\nNODE n2: VariableGet [VarName=Alpha]\nNODE n3: VariableGet [VarName=Direction]\nNODE n4: MultiplyFloat\nNODE n5: AddFloat\nNODE n6: VariableSet [VarName=Alpha]\nNODE n7: GreaterThan [B=1.0]\nNODE n8: Branch\nNODE n9: VariableSet [VarName=Direction]\nNODE n10: LessThan [B=0.0]\nNODE n11: Branch\nNODE n12: VariableSet [VarName=Direction]\nNODE n13: VariableGet [VarName=PointA]\nNODE n14: VariableGet [VarName=PointB]\nNODE n15: Lerp\nNODE n16: SetActorLocation\nEXEC n1.Then -> n6.Execute\nDATA n1.DeltaSeconds -> n4.A [Float]\nDATA n3.Value -> n4.B [Float]\nDATA n2.Value -> n5.A [Float]\nDATA n4.ReturnValue -> n5.B [Float]\nDATA n5.ReturnValue -> n6.Value [Float]\nEXEC n6.Then -> n8.Execute\nDATA n6.Value -> n7.A [Float]\nDATA n7.ReturnValue -> n8.Condition [Bool]\nEXEC n8.True -> n9.Execute\nDATA -1.0 -> n9.Value [Float]\nEXEC n8.False -> n11.Execute\nDATA n6.Value -> n10.A [Float]\nDATA n10.ReturnValue -> n11.Condition [Bool]\nEXEC n11.True -> n12.Execute\nDATA 1.0 -> n12.Value [Float]\nEXEC n11.False -> n16.Execute\nEXEC n9.Then -> n16.Execute\nEXEC n12.Then -> n16.Execute\nDATA n13.Value -> n15.A [Vector]\nDATA n14.Value -> n15.B [Vector]\nDATA n6.Value -> n15.Alpha [Float]\nDATA n15.ReturnValue -> n16.NewLocation [Vector]"
    },
    {
      "id": "C3A_03",
      "category": "patrol_two_point",
      "instruction": "Create a Blueprint with vectors PointA and PointB and bool GoingToB. On Tick, if GoingToB lerp toward PointB. If distance to PointB less than 50 set GoingToB false. Else lerp toward PointA.",
      "expected_dsl": "BLUEPRINT: BP_TwoPointPatrol\nPARENT: Actor\nVAR PointA: Vector\nVAR PointB: Vector\nVAR GoingToB: Bool = true\nGRAPH: EventGraph\nNODE n1: Event_Tick\nNODE n2: VariableGet [VarName=GoingToB]\nNODE n3: Branch\nNODE n4: GetActorLocation\nNODE n5: VariableGet [VarName=PointB]\nNODE n6: Lerp [Alpha=0.02]\nNODE n7: SetActorLocation\nNODE n8: GetActorLocation\nNODE n9: VariableGet [VarName=PointA]\nNODE n10: Lerp [Alpha=0.02]\nNODE n11: SetActorLocation\nEXEC n1.Then -> n3.Execute\nDATA n2.Value -> n3.Condition [Bool]\nEXEC n3.True -> n7.Execute\nDATA n4.ReturnValue -> n6.A [Vector]\nDATA n5.Value -> n6.B [Vector]\nDATA n6.ReturnValue -> n7.NewLocation [Vector]\nEXEC n3.False -> n11.Execute\nDATA n8.ReturnValue -> n10.A [Vector]\nDATA n9.Value -> n10.B [Vector]\nDATA n10.ReturnValue -> n11.NewLocation [Vector]"
    },
    {
      "id": "C3A_04",
      "category": "while_random_simple",
      "instruction": "Create a Blueprint with integer Rolls at 0. On BeginPlay use WhileLoop while Rolls less than 10. Each loop generate random int 1-6 and print it. Increment Rolls.",
      "expected_dsl": "BLUEPRINT: BP_DiceRolls\nPARENT: Actor\nVAR Rolls: Int = 0\nGRAPH: EventGraph\nNODE n1: Event_BeginPlay\nNODE n2: WhileLoop\nNODE n3: VariableGet [VarName=Rolls]\nNODE n4: LessThan [B=10]\nNODE n5: RandomInteger [Min=1, Max=6]\nNODE n6: PrintString\nNODE n7: VariableGet [VarName=Rolls]\nNODE n8: AddInt [B=1]\nNODE n9: VariableSet [VarName=Rolls]\nEXEC n1.Then -> n2.Execute\nDATA n3.Value -> n4.A [Int]\nDATA n4.ReturnValue -> n2.Condition [Bool]\nEXEC n2.LoopBody -> n6.Execute\nDATA n5.ReturnValue -> n6.InString [String]\nEXEC n6.Then -> n9.Execute\nDATA n7.Value -> n8.A [Int]\nDATA n8.ReturnValue -> n9.Value [Int]"
    },
    {
      "id": "C3A_05",
      "category": "while_accumulate",
      "instruction": "Create a Blueprint with float Total at 0. Use WhileLoop while Total less than 100. Each iteration add random float 1-25 to Total and print it.",
      "expected_dsl": "BLUEPRINT: BP_Accumulator\nPARENT: Actor\nVAR Total: Float = 0.0\nGRAPH: EventGraph\nNODE n1: Event_BeginPlay\nNODE n2: WhileLoop\nNODE n3: VariableGet [VarName=Total]\nNODE n4: LessThan [B=100.0]\nNODE n5: VariableGet [VarName=Total]\nNODE n6: RandomFloat [Min=1.0, Max=25.0]\nNODE n7: AddFloat\nNODE n8: VariableSet [VarName=Total]\nNODE n9: PrintString\nEXEC n1.Then -> n2.Execute\nDATA n3.Value -> n4.A [Float]\nDATA n4.ReturnValue -> n2.Condition [Bool]\nEXEC n2.LoopBody -> n8.Execute\nDATA n5.Value -> n7.A [Float]\nDATA n6.ReturnValue -> n7.B [Float]\nDATA n7.ReturnValue -> n8.Value [Float]\nEXEC n8.Then -> n9.Execute\nDATA n8.Value -> n9.InString [String]"
    },
    {
      "id": "C3A_06",
      "category": "cast_chain",
      "instruction": "Create a Blueprint that on overlap first casts to Character. If fails, cast to Pawn. If that also fails, print Unknown.",
      "expected_dsl": "BLUEPRINT: BP_CastChain\nPARENT: Actor\nGRAPH: EventGraph\nNODE n1: Event_ActorBeginOverlap\nNODE n2: CastToCharacter\nNODE n3: PrintString [InString=\"Character Found\"]\nNODE n4: CastToPawn\nNODE n5: PrintString [InString=\"Pawn Found\"]\nNODE n6: PrintString [InString=\"Unknown\"]\nEXEC n1.Then -> n2.Execute\nDATA n1.OtherActor -> n2.Object [Actor]\nEXEC n2.CastSucceeded -> n3.Execute\nEXEC n2.CastFailed -> n4.Execute\nDATA n1.OtherActor -> n4.Object [Actor]\nEXEC n4.CastSucceeded -> n5.Execute\nEXEC n4.CastFailed -> n6.Execute"
    },
    {
      "id": "C3A_07",
      "category": "cast_store",
      "instruction": "Create a Blueprint that on overlap casts to Character. If success, store in variable Player and print Found Player. If fail, cast to Pawn. If that succeeds store in variable NPC.",
      "expected_dsl": "BLUEPRINT: BP_CastAndStore\nPARENT: Actor\nVAR Player: Actor = None\nVAR NPC: Actor = None\nGRAPH: EventGraph\nNODE n1: Event_ActorBeginOverlap\nNODE n2: CastToCharacter\nNODE n3: VariableSet [VarName=Player]\nNODE n4: PrintString [InString=\"Found Player\"]\nNODE n5: CastToPawn\nNODE n6: VariableSet [VarName=NPC]\nNODE n7: PrintString [InString=\"Found NPC\"]\nEXEC n1.Then -> n2.Execute\nDATA n1.OtherActor -> n2.Object [Actor]\nEXEC n2.CastSucceeded -> n3.Execute\nDATA n2.AsCharacter -> n3.Value [Actor]\nEXEC n3.Then -> n4.Execute\nEXEC n2.CastFailed -> n5.Execute\nDATA n1.OtherActor -> n5.Object [Actor]\nEXEC n5.CastSucceeded -> n6.Execute\nDATA n5.AsPawn -> n6.Value [Actor]\nEXEC n6.Then -> n7.Execute"
    },
    {
      "id": "C3A_08",
      "category": "cast_with_isvalid",
      "instruction": "Create a Blueprint that on overlap casts to Character. If success and IsValid, get player location and print it. If cast fails print Not A Character.",
      "expected_dsl": "BLUEPRINT: BP_SafeCastLocation\nPARENT: Actor\nGRAPH: EventGraph\nNODE n1: Event_ActorBeginOverlap\nNODE n2: CastToCharacter\nNODE n3: IsValid\nNODE n4: Branch\nNODE n5: GetActorLocation\nNODE n6: PrintString\nNODE n7: PrintString [InString=\"Not A Character\"]\nEXEC n1.Then -> n2.Execute\nDATA n1.OtherActor -> n2.Object [Actor]\nEXEC n2.CastSucceeded -> n4.Execute\nDATA n2.AsCharacter -> n3.Input [Object]\nDATA n3.ReturnValue -> n4.Condition [Bool]\nEXEC n4.True -> n6.Execute\nDATA n2.AsCharacter -> n5.Target [Actor]\nDATA n5.ReturnValue -> n6.InString [String]\nEXEC n2.CastFailed -> n7.Execute"
    },
    {
      "id": "C3A_09",
      "category": "gate_widget_basic",
      "instruction": "Create a Blueprint with a Gate. Pressing Open opens the gate and creates WBP_Panel widget. Pressing Close closes the gate and removes the widget.",
      "expected_dsl": "BLUEPRINT: BP_GateWidget\nPARENT: Actor\nVAR Panel: Widget = None\nGRAPH: EventGraph\nNODE n1: Event_InputAction [ActionName=\"Open\"]\nNODE n2: Gate\nNODE n3: CreateWidget [WidgetClass=WBP_Panel]\nNODE n4: AddToViewport\nNODE n5: VariableSet [VarName=Panel]\nNODE n6: Event_InputAction [ActionName=\"Close\"]\nNODE n7: VariableGet [VarName=Panel]\nNODE n8: RemoveFromParent\nEXEC n1.Pressed -> n2.Open\nEXEC n2.Exit -> n3.Execute\nEXEC n3.Then -> n4.Execute\nDATA n3.ReturnValue -> n4.Target [Widget]\nEXEC n4.Then -> n5.Execute\nDATA n3.ReturnValue -> n5.Value [Widget]\nEXEC n6.Pressed -> n2.Close\nEXEC n6.Pressed -> n8.Execute\nDATA n7.Value -> n8.Target [Widget]"
    },
    {
      "id": "C3A_10",
      "category": "gate_timer_widget",
      "instruction": "Create a Blueprint that on BeginPlay opens a Gate and starts a looping timer. The timer enters the gate. The gate exit creates WBP_Notification and adds to viewport. Pressing Stop closes gate and clears timer.",
      "expected_dsl": "BLUEPRINT: BP_GateTimerUI\nPARENT: Actor\nGRAPH: EventGraph\nNODE n1: Event_BeginPlay\nNODE n2: Gate\nNODE n3: SetTimerByFunctionName [FunctionName=\"Pulse\", Time=3.0, Looping=true]\nNODE n4: Event_Custom [EventName=Pulse]\nNODE n5: CreateWidget [WidgetClass=WBP_Notification]\nNODE n6: AddToViewport\nNODE n7: Event_InputAction [ActionName=\"Stop\"]\nNODE n8: ClearTimerByFunctionName [FunctionName=\"Pulse\"]\nEXEC n1.Then -> n2.Open\nEXEC n1.Then -> n3.Execute\nEXEC n4.Then -> n2.Enter\nEXEC n2.Exit -> n5.Execute\nEXEC n5.Then -> n6.Execute\nDATA n5.ReturnValue -> n6.Target [Widget]\nEXEC n7.Pressed -> n2.Close\nEXEC n7.Pressed -> n8.Execute"
    },
    {
      "id": "C3A_11",
      "category": "spawn_and_log",
      "instruction": "Create a Blueprint that on pressing Fire spawns BP_Projectile at actor location. Gets the spawned actor's location and prints Spawned at: followed by the location.",
      "expected_dsl": "BLUEPRINT: BP_SpawnLog\nPARENT: Actor\nGRAPH: EventGraph\nNODE n1: Event_InputAction [ActionName=\"Fire\"]\nNODE n2: GetActorLocation\nNODE n3: SpawnActorFromClass [ActorClass=BP_Projectile]\nNODE n4: GetActorLocation\nNODE n5: Concatenate [A=\"Spawned at: \"]\nNODE n6: PrintString\nEXEC n1.Pressed -> n3.Execute\nDATA n2.ReturnValue -> n3.SpawnTransform [Transform]\nEXEC n3.Then -> n6.Execute\nDATA n3.ReturnValue -> n4.Target [Actor]\nDATA n4.ReturnValue -> n5.B [String]\nDATA n5.ReturnValue -> n6.InString [String]"
    },
    {
      "id": "C3A_12",
      "category": "spawn_count_log",
      "instruction": "Create a Blueprint with integer SpawnCount at 0. On pressing Spawn, increment SpawnCount, spawn BP_Item at actor location, print Spawned # followed by the count.",
      "expected_dsl": "BLUEPRINT: BP_CountedSpawn\nPARENT: Actor\nVAR SpawnCount: Int = 0\nGRAPH: EventGraph\nNODE n1: Event_InputAction [ActionName=\"Spawn\"]\nNODE n2: VariableGet [VarName=SpawnCount]\nNODE n3: AddInt [B=1]\nNODE n4: VariableSet [VarName=SpawnCount]\nNODE n5: GetActorLocation\nNODE n6: SpawnActorFromClass [ActorClass=BP_Item]\nNODE n7: Concatenate [A=\"Spawned # \"]\nNODE n8: PrintString\nEXEC n1.Pressed -> n4.Execute\nDATA n2.Value -> n3.A [Int]\nDATA n3.ReturnValue -> n4.Value [Int]\nEXEC n4.Then -> n6.Execute\nDATA n5.ReturnValue -> n6.SpawnTransform [Transform]\nEXEC n6.Then -> n8.Execute\nDATA n4.Value -> n7.B [String]\nDATA n7.ReturnValue -> n8.InString [String]"
    },
    {
      "id": "C3A_13",
      "category": "clamp_health",
      "instruction": "Create a Blueprint with float Health. On AnyDamage subtract damage from Health. If Health less than 0 set to 0. If greater than 100 set to 100. Print the clamped value.",
      "expected_dsl": "BLUEPRINT: BP_ClampHealth\nPARENT: Actor\nVAR Health: Float = 100.0\nGRAPH: EventGraph\nNODE n1: Event_AnyDamage\nNODE n2: VariableGet [VarName=Health]\nNODE n3: SubtractFloat\nNODE n4: Clamp [Min=0.0, Max=100.0]\nNODE n5: VariableSet [VarName=Health]\nNODE n6: PrintString\nEXEC n1.Then -> n5.Execute\nDATA n2.Value -> n3.A [Float]\nDATA n1.Damage -> n3.B [Float]\nDATA n3.ReturnValue -> n4.Value [Float]\nDATA n4.ReturnValue -> n5.Value [Float]\nEXEC n5.Then -> n6.Execute\nDATA n5.Value -> n6.InString [String]"
    },
    {
      "id": "C3A_14",
      "category": "clamp_position_z",
      "instruction": "Create a Blueprint that on Tick gets actor location. If Z less than 0 set Z to 0. If Z greater than 500 set Z to 500. Set the clamped location.",
      "expected_dsl": "BLUEPRINT: BP_ClampZ\nPARENT: Actor\nGRAPH: EventGraph\nNODE n1: Event_Tick\nNODE n2: GetActorLocation\nNODE n3: BreakVector\nNODE n4: Clamp [Min=0.0, Max=500.0]\nNODE n5: MakeVector\nNODE n6: SetActorLocation\nEXEC n1.Then -> n6.Execute\nDATA n2.ReturnValue -> n3.Input [Vector]\nDATA n3.X -> n5.X [Float]\nDATA n3.Y -> n5.Y [Float]\nDATA n3.Z -> n4.Value [Float]\nDATA n4.ReturnValue -> n5.Z [Float]\nDATA n5.ReturnValue -> n6.NewLocation [Vector]"
    },
    {
      "id": "C3A_15",
      "category": "clamp_speed",
      "instruction": "Create a Blueprint with float Speed at 50. On pressing SpeedUp add 25 to Speed. Clamp Speed between 0 and 200. Print Speed: followed by the value.",
      "expected_dsl": "BLUEPRINT: BP_ClampSpeed\nPARENT: Actor\nVAR Speed: Float = 50.0\nGRAPH: EventGraph\nNODE n1: Event_InputAction [ActionName=\"SpeedUp\"]\nNODE n2: VariableGet [VarName=Speed]\nNODE n3: AddFloat [B=25.0]\nNODE n4: Clamp [Min=0.0, Max=200.0]\nNODE n5: VariableSet [VarName=Speed]\nNODE n6: Concatenate [A=\"Speed: \"]\nNODE n7: PrintString\nEXEC n1.Pressed -> n5.Execute\nDATA n2.Value -> n3.A [Float]\nDATA n3.ReturnValue -> n4.Value [Float]\nDATA n4.ReturnValue -> n5.Value [Float]\nEXEC n5.Then -> n7.Execute\nDATA n5.Value -> n6.B [String]\nDATA n6.ReturnValue -> n7.InString [String]"
    }
  ]
}