{
  "lesson_id": "correction_v4a",
  "lesson_name": "Corrections: Complex Multi-System Patterns",
  "description": "14 targeted corrections for v4 weakest areas: moving_platform (16%), door_interact (18%), respawn_system (22%), turret_basic (24%), ui_gate_controlled (14%). 2-3 examples per weak category.",
  "created": "2026-02-27",
  "prompts": [
    {
      "id": "C4A_01",
      "category": "lerp_ab_basic",
      "instruction": "Create a Blueprint with vectors PointA and PointB and float Alpha. On Tick add DeltaSeconds times 0.3 to Alpha. Lerp between PointA and PointB using Alpha. Set actor location to result.",
      "expected_dsl": "BLUEPRINT: BP_LerpPlatform\nPARENT: Actor\nVAR PointA: Vector\nVAR PointB: Vector\nVAR Alpha: Float = 0.0\nGRAPH: EventGraph\nNODE n1: Event_Tick\nNODE n2: VariableGet [VarName=Alpha]\nNODE n3: MultiplyFloat [B=0.3]\nNODE n4: AddFloat\nNODE n5: VariableSet [VarName=Alpha]\nNODE n6: VariableGet [VarName=PointA]\nNODE n7: VariableGet [VarName=PointB]\nNODE n8: Lerp\nNODE n9: SetActorLocation\nEXEC n1.Then -> n5.Execute\nDATA n1.DeltaSeconds -> n3.A [Float]\nDATA n2.Value -> n4.A [Float]\nDATA n3.ReturnValue -> n4.B [Float]\nDATA n4.ReturnValue -> n5.Value [Float]\nEXEC n5.Then -> n9.Execute\nDATA n6.Value -> n8.A [Vector]\nDATA n7.Value -> n8.B [Vector]\nDATA n5.Value -> n8.Alpha [Float]\nDATA n8.ReturnValue -> n9.NewLocation [Vector]"
    },
    {
      "id": "C4A_02",
      "category": "lerp_reverse",
      "instruction": "Create a Blueprint with vectors Start and End, float T at 0, and float Dir at 1. On Tick, add DeltaSeconds times Dir to T. If T greater than 1 set Dir to -1. If T less than 0 set Dir to 1. Lerp and set location.",
      "expected_dsl": "BLUEPRINT: BP_ReverseLerp\nPARENT: Actor\nVAR Start: Vector\nVAR End: Vector\nVAR T: Float = 0.0\nVAR Dir: Float = 1.0\nGRAPH: EventGraph\nNODE n1: Event_Tick\nNODE n2: VariableGet [VarName=T]\nNODE n3: VariableGet [VarName=Dir]\nNODE n4: MultiplyFloat\nNODE n5: AddFloat\nNODE n6: VariableSet [VarName=T]\nNODE n7: GreaterThan [B=1.0]\nNODE n8: Branch\nNODE n9: VariableSet [VarName=Dir]\nNODE n10: LessThan [B=0.0]\nNODE n11: Branch\nNODE n12: VariableSet [VarName=Dir]\nNODE n13: VariableGet [VarName=Start]\nNODE n14: VariableGet [VarName=End]\nNODE n15: Lerp\nNODE n16: SetActorLocation\nEXEC n1.Then -> n6.Execute\nDATA n1.DeltaSeconds -> n4.A [Float]\nDATA n3.Value -> n4.B [Float]\nDATA n2.Value -> n5.A [Float]\nDATA n4.ReturnValue -> n5.B [Float]\nDATA n5.ReturnValue -> n6.Value [Float]\nEXEC n6.Then -> n8.Execute\nDATA n6.Value -> n7.A [Float]\nDATA n7.ReturnValue -> n8.Condition [Bool]\nEXEC n8.True -> n9.Execute\nDATA -1.0 -> n9.Value [Float]\nEXEC n9.Then -> n16.Execute\nEXEC n8.False -> n11.Execute\nDATA n6.Value -> n10.A [Float]\nDATA n10.ReturnValue -> n11.Condition [Bool]\nEXEC n11.True -> n12.Execute\nDATA 1.0 -> n12.Value [Float]\nEXEC n12.Then -> n16.Execute\nEXEC n11.False -> n16.Execute\nDATA n13.Value -> n15.A [Vector]\nDATA n14.Value -> n15.B [Vector]\nDATA n6.Value -> n15.Alpha [Float]\nDATA n15.ReturnValue -> n16.NewLocation [Vector]"
    },
    {
      "id": "C4A_03",
      "category": "lerp_clamp",
      "instruction": "Create a Blueprint that on Tick increases Alpha by DeltaSeconds. Clamp Alpha between 0 and 1. Lerp between PointA and PointB. Set actor location.",
      "expected_dsl": "BLUEPRINT: BP_ClampedLerp\nPARENT: Actor\nVAR PointA: Vector\nVAR PointB: Vector\nVAR Alpha: Float = 0.0\nGRAPH: EventGraph\nNODE n1: Event_Tick\nNODE n2: VariableGet [VarName=Alpha]\nNODE n3: AddFloat\nNODE n4: Clamp [Min=0.0, Max=1.0]\nNODE n5: VariableSet [VarName=Alpha]\nNODE n6: VariableGet [VarName=PointA]\nNODE n7: VariableGet [VarName=PointB]\nNODE n8: Lerp\nNODE n9: SetActorLocation\nEXEC n1.Then -> n5.Execute\nDATA n2.Value -> n3.A [Float]\nDATA n1.DeltaSeconds -> n3.B [Float]\nDATA n3.ReturnValue -> n4.Value [Float]\nDATA n4.ReturnValue -> n5.Value [Float]\nEXEC n5.Then -> n9.Execute\nDATA n6.Value -> n8.A [Vector]\nDATA n7.Value -> n8.B [Vector]\nDATA n5.Value -> n8.Alpha [Float]\nDATA n8.ReturnValue -> n9.NewLocation [Vector]"
    },
    {
      "id": "C4A_04",
      "category": "door_flipflop",
      "instruction": "Create a Blueprint. On pressing Interact get distance to player pawn. If less than 200, use FlipFlop. A path adds 90 degrees yaw rotation. B path adds -90 degrees yaw rotation.",
      "expected_dsl": "BLUEPRINT: BP_FlipDoor\nPARENT: Actor\nGRAPH: EventGraph\nNODE n1: Event_InputAction [ActionName=\"Interact\"]\nNODE n2: GetPlayerPawn\nNODE n3: GetDistanceTo\nNODE n4: LessThan [B=200.0]\nNODE n5: Branch\nNODE n6: FlipFlop\nNODE n7: AddActorLocalRotation [DeltaRotation=(Pitch=0,Yaw=90,Roll=0)]\nNODE n8: AddActorLocalRotation [DeltaRotation=(Pitch=0,Yaw=-90,Roll=0)]\nEXEC n1.Pressed -> n5.Execute\nDATA n2.ReturnValue -> n3.OtherActor [Actor]\nDATA n3.ReturnValue -> n4.A [Float]\nDATA n4.ReturnValue -> n5.Condition [Bool]\nEXEC n5.True -> n6.Execute\nEXEC n6.A -> n7.Execute\nEXEC n6.B -> n8.Execute"
    },
    {
      "id": "C4A_05",
      "category": "door_with_sound",
      "instruction": "Create a Blueprint with bool IsOpen. On pressing Use, check distance to player less than 300. If close, branch on IsOpen. If closed, rotate 90 yaw, set IsOpen true, play sound. If open, rotate -90 yaw, set IsOpen false.",
      "expected_dsl": "BLUEPRINT: BP_SoundDoor\nPARENT: Actor\nVAR IsOpen: Bool = false\nGRAPH: EventGraph\nNODE n1: Event_InputAction [ActionName=\"Use\"]\nNODE n2: GetPlayerPawn\nNODE n3: GetDistanceTo\nNODE n4: LessThan [B=300.0]\nNODE n5: Branch\nNODE n6: VariableGet [VarName=IsOpen]\nNODE n7: Branch\nNODE n8: AddActorLocalRotation [DeltaRotation=(Pitch=0,Yaw=90,Roll=0)]\nNODE n9: VariableSet [VarName=IsOpen]\nNODE n10: PlaySoundAtLocation [Sound=DoorOpen]\nNODE n11: AddActorLocalRotation [DeltaRotation=(Pitch=0,Yaw=-90,Roll=0)]\nNODE n12: VariableSet [VarName=IsOpen]\nEXEC n1.Pressed -> n5.Execute\nDATA n2.ReturnValue -> n3.OtherActor [Actor]\nDATA n3.ReturnValue -> n4.A [Float]\nDATA n4.ReturnValue -> n5.Condition [Bool]\nEXEC n5.True -> n7.Execute\nDATA n6.Value -> n7.Condition [Bool]\nEXEC n7.False -> n8.Execute\nEXEC n8.Then -> n9.Execute\nDATA true -> n9.Value [Bool]\nEXEC n9.Then -> n10.Execute\nEXEC n7.True -> n11.Execute\nEXEC n11.Then -> n12.Execute\nDATA false -> n12.Value [Bool]"
    },
    {
      "id": "C4A_06",
      "category": "respawn_basic",
      "instruction": "Create a Blueprint with float Health at 100 and vector SpawnPoint. On BeginPlay save location to SpawnPoint. On AnyDamage subtract damage from Health. If Health less than 0, set Health to 100, teleport to SpawnPoint, print Respawned.",
      "expected_dsl": "BLUEPRINT: BP_BasicRespawn\nPARENT: Actor\nVAR Health: Float = 100.0\nVAR SpawnPoint: Vector\nGRAPH: EventGraph\nNODE n1: Event_BeginPlay\nNODE n2: GetActorLocation\nNODE n3: VariableSet [VarName=SpawnPoint]\nNODE n4: Event_AnyDamage\nNODE n5: VariableGet [VarName=Health]\nNODE n6: SubtractFloat\nNODE n7: VariableSet [VarName=Health]\nNODE n8: LessThan [B=0.0]\nNODE n9: Branch\nNODE n10: VariableSet [VarName=Health]\nNODE n11: VariableGet [VarName=SpawnPoint]\nNODE n12: SetActorLocation\nNODE n13: PrintString [InString=\"Respawned\"]\nEXEC n1.Then -> n3.Execute\nDATA n2.ReturnValue -> n3.Value [Vector]\nEXEC n4.Then -> n7.Execute\nDATA n5.Value -> n6.A [Float]\nDATA n4.Damage -> n6.B [Float]\nDATA n6.ReturnValue -> n7.Value [Float]\nEXEC n7.Then -> n9.Execute\nDATA n7.Value -> n8.A [Float]\nDATA n8.ReturnValue -> n9.Condition [Bool]\nEXEC n9.True -> n10.Execute\nDATA 100.0 -> n10.Value [Float]\nEXEC n10.Then -> n12.Execute\nDATA n11.Value -> n12.NewLocation [Vector]\nEXEC n12.Then -> n13.Execute"
    },
    {
      "id": "C4A_07",
      "category": "respawn_with_counter",
      "instruction": "Create a Blueprint with Health at 100, vector Spawn, and int Deaths at 0. On BeginPlay save location. On AnyDamage subtract. If dead, increment Deaths, reset Health, teleport, print death count.",
      "expected_dsl": "BLUEPRINT: BP_DeathCounter\nPARENT: Actor\nVAR Health: Float = 100.0\nVAR Spawn: Vector\nVAR Deaths: Int = 0\nGRAPH: EventGraph\nNODE n1: Event_BeginPlay\nNODE n2: GetActorLocation\nNODE n3: VariableSet [VarName=Spawn]\nNODE n4: Event_AnyDamage\nNODE n5: VariableGet [VarName=Health]\nNODE n6: SubtractFloat\nNODE n7: VariableSet [VarName=Health]\nNODE n8: LessThan [B=0.0]\nNODE n9: Branch\nNODE n10: VariableGet [VarName=Deaths]\nNODE n11: AddInt [B=1]\nNODE n12: VariableSet [VarName=Deaths]\nNODE n13: VariableSet [VarName=Health]\nNODE n14: VariableGet [VarName=Spawn]\nNODE n15: SetActorLocation\nNODE n16: PrintString\nEXEC n1.Then -> n3.Execute\nDATA n2.ReturnValue -> n3.Value [Vector]\nEXEC n4.Then -> n7.Execute\nDATA n5.Value -> n6.A [Float]\nDATA n4.Damage -> n6.B [Float]\nDATA n6.ReturnValue -> n7.Value [Float]\nEXEC n7.Then -> n9.Execute\nDATA n7.Value -> n8.A [Float]\nDATA n8.ReturnValue -> n9.Condition [Bool]\nEXEC n9.True -> n12.Execute\nDATA n10.Value -> n11.A [Int]\nDATA n11.ReturnValue -> n12.Value [Int]\nEXEC n12.Then -> n13.Execute\nDATA 100.0 -> n13.Value [Float]\nEXEC n13.Then -> n15.Execute\nDATA n14.Value -> n15.NewLocation [Vector]\nEXEC n15.Then -> n16.Execute\nDATA n12.Value -> n16.InString [String]"
    },
    {
      "id": "C4A_08",
      "category": "turret_simple",
      "instruction": "Create a Blueprint. On BeginPlay start looping timer every 2 seconds. Timer checks distance to player pawn. If less than 1000, spawn BP_Projectile at actor location and print Firing.",
      "expected_dsl": "BLUEPRINT: BP_SimpleTurret\nPARENT: Actor\nGRAPH: EventGraph\nNODE n1: Event_BeginPlay\nNODE n2: SetTimerByFunctionName [FunctionName=\"Fire\", Time=2.0, Looping=true]\nNODE n3: Event_Custom [EventName=Fire]\nNODE n4: GetPlayerPawn\nNODE n5: GetDistanceTo\nNODE n6: LessThan [B=1000.0]\nNODE n7: Branch\nNODE n8: GetActorLocation\nNODE n9: SpawnActorFromClass [ActorClass=BP_Projectile]\nNODE n10: PrintString [InString=\"Firing\"]\nEXEC n1.Then -> n2.Execute\nEXEC n3.Then -> n7.Execute\nDATA n4.ReturnValue -> n5.OtherActor [Actor]\nDATA n5.ReturnValue -> n6.A [Float]\nDATA n6.ReturnValue -> n7.Condition [Bool]\nEXEC n7.True -> n9.Execute\nDATA n8.ReturnValue -> n9.SpawnTransform [Transform]\nEXEC n9.Then -> n10.Execute"
    },
    {
      "id": "C4A_09",
      "category": "turret_with_ammo",
      "instruction": "Create a Blueprint with int Ammo at 10. Timer every 1.5 seconds. If distance less than 800 and Ammo greater than 0, spawn projectile, subtract 1 from Ammo, print ammo count. If Ammo is 0 clear timer.",
      "expected_dsl": "BLUEPRINT: BP_AmmoTurret\nPARENT: Actor\nVAR Ammo: Int = 10\nGRAPH: EventGraph\nNODE n1: Event_BeginPlay\nNODE n2: SetTimerByFunctionName [FunctionName=\"Shoot\", Time=1.5, Looping=true]\nNODE n3: Event_Custom [EventName=Shoot]\nNODE n4: GetPlayerPawn\nNODE n5: GetDistanceTo\nNODE n6: LessThan [B=800.0]\nNODE n7: Branch\nNODE n8: VariableGet [VarName=Ammo]\nNODE n9: GreaterThan [B=0]\nNODE n10: Branch\nNODE n11: GetActorLocation\nNODE n12: SpawnActorFromClass [ActorClass=BP_Projectile]\nNODE n13: VariableGet [VarName=Ammo]\nNODE n14: SubtractInt [B=1]\nNODE n15: VariableSet [VarName=Ammo]\nNODE n16: PrintString\nNODE n17: EqualEqual [B=0]\nNODE n18: Branch\nNODE n19: ClearTimerByFunctionName [FunctionName=\"Shoot\"]\nEXEC n1.Then -> n2.Execute\nEXEC n3.Then -> n7.Execute\nDATA n4.ReturnValue -> n5.OtherActor [Actor]\nDATA n5.ReturnValue -> n6.A [Float]\nDATA n6.ReturnValue -> n7.Condition [Bool]\nEXEC n7.True -> n10.Execute\nDATA n8.Value -> n9.A [Int]\nDATA n9.ReturnValue -> n10.Condition [Bool]\nEXEC n10.True -> n12.Execute\nDATA n11.ReturnValue -> n12.SpawnTransform [Transform]\nEXEC n12.Then -> n15.Execute\nDATA n13.Value -> n14.A [Int]\nDATA n14.ReturnValue -> n15.Value [Int]\nEXEC n15.Then -> n16.Execute\nDATA n15.Value -> n16.InString [String]\nEXEC n16.Then -> n18.Execute\nDATA n15.Value -> n17.A [Int]\nDATA n17.ReturnValue -> n18.Condition [Bool]\nEXEC n18.True -> n19.Execute"
    },
    {
      "id": "C4A_10",
      "category": "gate_create_remove",
      "instruction": "Create a Blueprint. On pressing Show, open a Gate and create WBP_Info widget, add to viewport, store in variable. On pressing Hide, close the gate and remove widget from parent.",
      "expected_dsl": "BLUEPRINT: BP_GateShowHide\nPARENT: Actor\nVAR Info: Widget = None\nGRAPH: EventGraph\nNODE n1: Event_InputAction [ActionName=\"Show\"]\nNODE n2: Gate\nNODE n3: CreateWidget [WidgetClass=WBP_Info]\nNODE n4: AddToViewport\nNODE n5: VariableSet [VarName=Info]\nNODE n6: Event_InputAction [ActionName=\"Hide\"]\nNODE n7: VariableGet [VarName=Info]\nNODE n8: RemoveFromParent\nEXEC n1.Pressed -> n2.Open\nEXEC n2.Exit -> n3.Execute\nEXEC n3.Then -> n4.Execute\nDATA n3.ReturnValue -> n4.Target [Widget]\nEXEC n4.Then -> n5.Execute\nDATA n3.ReturnValue -> n5.Value [Widget]\nEXEC n6.Pressed -> n2.Close\nEXEC n6.Pressed -> n8.Execute\nDATA n7.Value -> n8.Target [Widget]"
    },
    {
      "id": "C4A_11",
      "category": "gate_overlap_widget",
      "instruction": "Create a Blueprint. On overlap open Gate and create WBP_Prompt, add to viewport. On end overlap close Gate and remove widget. Gate exit prints Active.",
      "expected_dsl": "BLUEPRINT: BP_OverlapGateUI\nPARENT: Actor\nVAR Prompt: Widget = None\nGRAPH: EventGraph\nNODE n1: Event_ActorBeginOverlap\nNODE n2: Gate\nNODE n3: CreateWidget [WidgetClass=WBP_Prompt]\nNODE n4: AddToViewport\nNODE n5: VariableSet [VarName=Prompt]\nNODE n6: PrintString [InString=\"Active\"]\nNODE n7: Event_ActorEndOverlap\nNODE n8: VariableGet [VarName=Prompt]\nNODE n9: RemoveFromParent\nEXEC n1.Then -> n2.Open\nEXEC n1.Then -> n3.Execute\nEXEC n3.Then -> n4.Execute\nDATA n3.ReturnValue -> n4.Target [Widget]\nEXEC n4.Then -> n5.Execute\nDATA n3.ReturnValue -> n5.Value [Widget]\nEXEC n2.Exit -> n6.Execute\nEXEC n7.Then -> n2.Close\nEXEC n7.Then -> n9.Execute\nDATA n8.Value -> n9.Target [Widget]"
    },
    {
      "id": "C4A_12",
      "category": "endplay_widget_cleanup",
      "instruction": "Create a Blueprint that on BeginPlay creates WBP_HUD and stores it. On EndPlay check if widget IsValid. If valid, remove from parent.",
      "expected_dsl": "BLUEPRINT: BP_CleanHUD\nPARENT: Actor\nVAR HUD: Widget = None\nGRAPH: EventGraph\nNODE n1: Event_BeginPlay\nNODE n2: CreateWidget [WidgetClass=WBP_HUD]\nNODE n3: AddToViewport\nNODE n4: VariableSet [VarName=HUD]\nNODE n5: Event_EndPlay\nNODE n6: VariableGet [VarName=HUD]\nNODE n7: IsValid\nNODE n8: Branch\nNODE n9: RemoveFromParent\nEXEC n1.Then -> n2.Execute\nEXEC n2.Then -> n3.Execute\nDATA n2.ReturnValue -> n3.Target [Widget]\nEXEC n3.Then -> n4.Execute\nDATA n2.ReturnValue -> n4.Value [Widget]\nEXEC n5.Then -> n8.Execute\nDATA n6.Value -> n7.Input [Object]\nDATA n7.ReturnValue -> n8.Condition [Bool]\nEXEC n8.True -> n9.Execute\nDATA n6.Value -> n9.Target [Widget]"
    },
    {
      "id": "C4A_13",
      "category": "flipflop_widget_swap",
      "instruction": "Create a Blueprint with widget variables ScreenA and ScreenB. On pressing Swap use FlipFlop. A path shows ScreenA and hides ScreenB. B path shows ScreenB and hides ScreenA.",
      "expected_dsl": "BLUEPRINT: BP_SwapUI\nPARENT: Actor\nVAR ScreenA: Widget = None\nVAR ScreenB: Widget = None\nGRAPH: EventGraph\nNODE n1: Event_InputAction [ActionName=\"Swap\"]\nNODE n2: FlipFlop\nNODE n3: VariableGet [VarName=ScreenA]\nNODE n4: AddToViewport\nNODE n5: VariableGet [VarName=ScreenB]\nNODE n6: RemoveFromParent\nNODE n7: VariableGet [VarName=ScreenB]\nNODE n8: AddToViewport\nNODE n9: VariableGet [VarName=ScreenA]\nNODE n10: RemoveFromParent\nEXEC n1.Pressed -> n2.Execute\nEXEC n2.A -> n4.Execute\nDATA n3.Value -> n4.Target [Widget]\nEXEC n4.Then -> n6.Execute\nDATA n5.Value -> n6.Target [Widget]\nEXEC n2.B -> n8.Execute\nDATA n7.Value -> n8.Target [Widget]\nEXEC n8.Then -> n10.Execute\nDATA n9.Value -> n10.Target [Widget]"
    },
    {
      "id": "C4A_14",
      "category": "hud_damage_death",
      "instruction": "Create a Blueprint with float Health at 100 and widget variable HUD. On BeginPlay create WBP_HUD and add to viewport. On AnyDamage subtract from Health. If Health below 0, remove HUD and destroy actor.",
      "expected_dsl": "BLUEPRINT: BP_HUDDeath\nPARENT: Actor\nVAR Health: Float = 100.0\nVAR HUD: Widget = None\nGRAPH: EventGraph\nNODE n1: Event_BeginPlay\nNODE n2: CreateWidget [WidgetClass=WBP_HUD]\nNODE n3: AddToViewport\nNODE n4: VariableSet [VarName=HUD]\nNODE n5: Event_AnyDamage\nNODE n6: VariableGet [VarName=Health]\nNODE n7: SubtractFloat\nNODE n8: VariableSet [VarName=Health]\nNODE n9: LessThan [B=0.0]\nNODE n10: Branch\nNODE n11: VariableGet [VarName=HUD]\nNODE n12: RemoveFromParent\nNODE n13: DestroyActor\nEXEC n1.Then -> n2.Execute\nEXEC n2.Then -> n3.Execute\nDATA n2.ReturnValue -> n3.Target [Widget]\nEXEC n3.Then -> n4.Execute\nDATA n2.ReturnValue -> n4.Value [Widget]\nEXEC n5.Then -> n8.Execute\nDATA n6.Value -> n7.A [Float]\nDATA n5.Damage -> n7.B [Float]\nDATA n7.ReturnValue -> n8.Value [Float]\nEXEC n8.Then -> n10.Execute\nDATA n8.Value -> n9.A [Float]\nDATA n9.ReturnValue -> n10.Condition [Bool]\nEXEC n10.True -> n12.Execute\nDATA n11.Value -> n12.Target [Widget]\nEXEC n12.Then -> n13.Execute"
    }
  ]
}