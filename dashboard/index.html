<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BlueprintLLM ‚Äî Training Observatory</title>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700&family=Outfit:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
<style>
:root {
  --bg-deep: #0a0e17;
  --bg-panel: #111827;
  --bg-card: #1a2234;
  --bg-card-hover: #1f2a3f;
  --border: #2a3650;
  --border-bright: #3b4f6e;
  --text-primary: #e8edf5;
  --text-secondary: #8899b4;
  --text-dim: #556680;
  --accent-blue: #3b82f6;
  --accent-cyan: #06b6d4;
  --accent-emerald: #10b981;
  --accent-amber: #f59e0b;
  --accent-rose: #f43f5e;
  --accent-violet: #8b5cf6;
  --glow-blue: rgba(59, 130, 246, 0.15);
  --glow-emerald: rgba(16, 185, 129, 0.15);
  --glow-amber: rgba(245, 158, 11, 0.15);
  --glow-rose: rgba(244, 63, 94, 0.15);
}
* { margin: 0; padding: 0; box-sizing: border-box; }
body { background: var(--bg-deep); color: var(--text-primary); font-family: 'Outfit', sans-serif; min-height: 100vh; overflow-x: hidden; }
body::before { content: ''; position: fixed; inset: 0; background-image: linear-gradient(rgba(59,130,246,0.03) 1px, transparent 1px), linear-gradient(90deg, rgba(59,130,246,0.03) 1px, transparent 1px); background-size: 60px 60px; pointer-events: none; z-index: 0; }
body::after { content: ''; position: fixed; top: -200px; left: 50%; transform: translateX(-50%); width: 800px; height: 500px; background: radial-gradient(ellipse, rgba(59,130,246,0.08) 0%, transparent 70%); pointer-events: none; z-index: 0; }
.dashboard { position: relative; z-index: 1; max-width: 1440px; margin: 0 auto; padding: 32px 40px; }
.header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 36px; padding-bottom: 24px; border-bottom: 1px solid var(--border); }
.header-left { display: flex; align-items: center; gap: 16px; }
.logo { width: 44px; height: 44px; background: linear-gradient(135deg, var(--accent-blue), var(--accent-cyan)); border-radius: 10px; display: flex; align-items: center; justify-content: center; font-family: 'JetBrains Mono', monospace; font-weight: 700; font-size: 18px; color: white; box-shadow: 0 4px 20px rgba(59,130,246,0.3); }
.header-title { font-size: 22px; font-weight: 700; letter-spacing: -0.5px; }
.header-title span { color: var(--text-dim); font-weight: 400; }
.header-right { display: flex; align-items: center; gap: 20px; }
.status-pill { display: flex; align-items: center; gap: 8px; padding: 6px 14px; border-radius: 20px; font-size: 13px; font-weight: 500; font-family: 'JetBrains Mono', monospace; }
.status-pill.training { background: var(--glow-amber); color: var(--accent-amber); border: 1px solid rgba(245,158,11,0.2); }
.status-pill.idle { background: var(--glow-emerald); color: var(--accent-emerald); border: 1px solid rgba(16,185,129,0.2); }
.status-dot { width: 8px; height: 8px; border-radius: 50%; animation: pulse 2s ease-in-out infinite; }
.training .status-dot { background: var(--accent-amber); }
.idle .status-dot { background: var(--accent-emerald); }
@keyframes pulse { 0%,100% { opacity:1; transform:scale(1); } 50% { opacity:0.5; transform:scale(0.85); } }
.version-badge { padding: 6px 12px; border-radius: 8px; background: var(--bg-card); border: 1px solid var(--border); font-family: 'JetBrains Mono', monospace; font-size: 12px; color: var(--text-secondary); }
.generated-time { font-size: 11px; color: var(--text-dim); font-family: 'JetBrains Mono', monospace; }
.metrics-row { display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; margin-bottom: 28px; }
.metric-card { background: var(--bg-card); border: 1px solid var(--border); border-radius: 14px; padding: 20px 22px; position: relative; overflow: hidden; transition: border-color 0.3s, transform 0.2s; }
.metric-card:hover { border-color: var(--border-bright); transform: translateY(-2px); }
.metric-card::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 2px; }
.metric-card.blue::before { background: linear-gradient(90deg, var(--accent-blue), var(--accent-cyan)); }
.metric-card.emerald::before { background: linear-gradient(90deg, var(--accent-emerald), var(--accent-cyan)); }
.metric-card.amber::before { background: linear-gradient(90deg, var(--accent-amber), #fbbf24); }
.metric-card.violet::before { background: linear-gradient(90deg, var(--accent-violet), var(--accent-blue)); }
.metric-label { font-size: 12px; font-weight: 500; text-transform: uppercase; letter-spacing: 1px; color: var(--text-dim); margin-bottom: 8px; }
.metric-value { font-size: 36px; font-weight: 800; letter-spacing: -1px; line-height: 1; margin-bottom: 6px; }
.metric-card.blue .metric-value { color: var(--accent-blue); }
.metric-card.emerald .metric-value { color: var(--accent-emerald); }
.metric-card.amber .metric-value { color: var(--accent-amber); }
.metric-card.violet .metric-value { color: var(--accent-violet); }
.metric-sub { font-size: 13px; color: var(--text-secondary); font-family: 'JetBrains Mono', monospace; }
.metric-trend { display: inline-flex; align-items: center; gap: 4px; font-size: 12px; font-weight: 600; padding: 2px 8px; border-radius: 6px; margin-left: 8px; }
.metric-trend.up { background: var(--glow-emerald); color: var(--accent-emerald); }
.main-grid { display: grid; grid-template-columns: 1fr 380px; gap: 20px; margin-bottom: 28px; }
.panel { background: var(--bg-card); border: 1px solid var(--border); border-radius: 14px; padding: 22px; }
.panel-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 18px; }
.panel-title { font-size: 15px; font-weight: 600; display: flex; align-items: center; gap: 8px; }
.panel-title .icon { width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; font-size: 14px; }
.panel-badge { font-size: 11px; font-family: 'JetBrains Mono', monospace; padding: 3px 10px; border-radius: 6px; background: var(--bg-deep); color: var(--text-dim); border: 1px solid var(--border); }
.chart-container { position: relative; height: 220px; margin-top: 8px; }
svg text { font-family: 'JetBrains Mono', monospace; }
.chart-line { fill: none; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round; }
.chart-area { opacity: 0.1; }
.chart-grid line { stroke: var(--border); stroke-dasharray: 4 4; stroke-width: 0.5; }
.node-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; max-height: 420px; overflow-y: auto; scrollbar-width: thin; scrollbar-color: var(--border) transparent; }
.node-item { display: flex; align-items: center; gap: 10px; padding: 10px 12px; background: var(--bg-deep); border-radius: 8px; border: 1px solid transparent; transition: border-color 0.2s, background 0.2s; }
.node-item:hover { background: var(--bg-card-hover); border-color: var(--border); }
.node-status { width: 10px; height: 10px; border-radius: 3px; flex-shrink: 0; }
.node-status.mastered { background: var(--accent-emerald); box-shadow: 0 0 8px rgba(16,185,129,0.4); }
.node-status.learning { background: var(--accent-amber); box-shadow: 0 0 8px rgba(245,158,11,0.3); }
.node-status.untrained { background: var(--border); }
.node-status.struggling { background: var(--accent-rose); box-shadow: 0 0 8px rgba(244,63,94,0.3); }
.node-name { font-family: 'JetBrains Mono', monospace; font-size: 12px; font-weight: 500; flex: 1; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.node-score { font-family: 'JetBrains Mono', monospace; font-size: 11px; font-weight: 600; min-width: 36px; text-align: right; }
.node-score.high { color: var(--accent-emerald); }
.node-score.mid { color: var(--accent-amber); }
.node-score.low { color: var(--accent-rose); }
.node-score.none { color: var(--text-dim); }
.timeline { display: flex; flex-direction: column; gap: 2px; }
.timeline-item { display: flex; align-items: stretch; gap: 14px; padding: 12px 0; }
.timeline-line { display: flex; flex-direction: column; align-items: center; width: 20px; flex-shrink: 0; }
.timeline-dot { width: 12px; height: 12px; border-radius: 50%; border: 2px solid var(--border); flex-shrink: 0; }
.timeline-dot.complete { background: var(--accent-emerald); border-color: var(--accent-emerald); }
.timeline-dot.active { background: var(--accent-blue); border-color: var(--accent-blue); box-shadow: 0 0 12px rgba(59,130,246,0.5); }
.timeline-dot.pending { background: transparent; border-color: var(--border); }
.timeline-connector { width: 2px; flex: 1; background: var(--border); margin: 4px 0; }
.timeline-content { flex: 1; padding-bottom: 8px; }
.timeline-title { font-size: 14px; font-weight: 600; margin-bottom: 4px; }
.timeline-meta { font-size: 12px; color: var(--text-dim); font-family: 'JetBrains Mono', monospace; }
.timeline-score { display: inline-block; padding: 2px 8px; border-radius: 4px; font-size: 11px; font-weight: 600; font-family: 'JetBrains Mono', monospace; margin-top: 6px; }
.timeline-score.good { background: var(--glow-emerald); color: var(--accent-emerald); }
.timeline-score.ok { background: var(--glow-amber); color: var(--accent-amber); }
.timeline-score.pending-score { background: var(--bg-deep); color: var(--text-dim); }
.bottom-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
.log-container { max-height: 200px; overflow-y: auto; scrollbar-width: thin; scrollbar-color: var(--border) transparent; }
.log-line { display: flex; align-items: baseline; gap: 10px; padding: 4px 0; font-family: 'JetBrains Mono', monospace; font-size: 12px; line-height: 1.6; border-bottom: 1px solid rgba(42,54,80,0.3); }
.log-time { color: var(--text-dim); flex-shrink: 0; font-size: 11px; min-width: 60px; }
.log-msg { color: var(--text-secondary); }
.log-msg.success { color: var(--accent-emerald); }
.log-msg.warning { color: var(--accent-amber); }
.log-msg.error { color: var(--accent-rose); }
.log-msg.info { color: var(--accent-cyan); }
.error-bars { display: flex; flex-direction: column; gap: 12px; margin-top: 4px; }
.error-bar-row { display: flex; align-items: center; gap: 12px; }
.error-bar-label { font-family: 'JetBrains Mono', monospace; font-size: 12px; color: var(--text-secondary); width: 120px; flex-shrink: 0; }
.error-bar-track { flex: 1; height: 8px; background: var(--bg-deep); border-radius: 4px; overflow: hidden; }
.error-bar-fill { height: 100%; border-radius: 4px; transition: width 0.8s ease; }
.error-bar-fill.rose { background: linear-gradient(90deg, var(--accent-rose), #fb7185); }
.error-bar-fill.amber { background: linear-gradient(90deg, var(--accent-amber), #fbbf24); }
.error-bar-fill.blue { background: linear-gradient(90deg, var(--accent-blue), var(--accent-cyan)); }
.error-bar-fill.violet { background: linear-gradient(90deg, var(--accent-violet), #a78bfa); }
.error-bar-value { font-family: 'JetBrains Mono', monospace; font-size: 12px; font-weight: 600; color: var(--text-secondary); width: 36px; text-align: right; }
.legend { display: flex; gap: 20px; margin-top: 14px; padding-top: 14px; border-top: 1px solid var(--border); }
.legend-item { display: flex; align-items: center; gap: 6px; font-size: 12px; color: var(--text-secondary); }
.legend-dot { width: 8px; height: 8px; border-radius: 3px; }
@media (max-width: 1100px) { .main-grid { grid-template-columns: 1fr; } .bottom-grid { grid-template-columns: 1fr; } .metrics-row { grid-template-columns: repeat(2, 1fr); } }
@media (max-width: 640px) { .dashboard { padding: 16px; } .metrics-row { grid-template-columns: 1fr; } .node-grid { grid-template-columns: 1fr; } .header { flex-direction: column; gap: 12px; } }
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--border); border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: var(--border-bright); }
.health-grid { display: grid; grid-template-columns: 200px 1fr; gap: 20px; margin-top: 28px; }
.health-status { display: flex; flex-direction: column; align-items: center; gap: 12px; padding: 20px; background: var(--bg-deep); border-radius: 12px; }
.health-badge { font-size: 15px; font-weight: 700; font-family: 'JetBrains Mono', monospace; padding: 8px 18px; border-radius: 8px; text-align: center; }
.health-badge.health-ok { background: var(--glow-emerald); color: var(--accent-emerald); border: 1px solid rgba(16,185,129,0.3); }
.health-badge.health-warn { background: var(--glow-amber); color: var(--accent-amber); border: 1px solid rgba(245,158,11,0.3); }
.health-badge.health-crit { background: var(--glow-rose); color: var(--accent-rose); border: 1px solid rgba(244,63,94,0.3); }
.health-counts { display: flex; flex-direction: column; gap: 6px; width: 100%; }
.health-count { display: flex; justify-content: space-between; font-family: 'JetBrains Mono', monospace; font-size: 12px; padding: 4px 8px; border-radius: 4px; }
.health-count.crit { color: var(--accent-rose); background: rgba(244,63,94,0.08); }
.health-count.warn { color: var(--accent-amber); background: rgba(245,158,11,0.08); }
.health-count.sugg { color: var(--accent-blue); background: rgba(59,130,246,0.08); }
.health-count.info { color: var(--accent-cyan); background: rgba(6,182,212,0.08); }
.health-alert-list { max-height: 260px; overflow-y: auto; scrollbar-width: thin; scrollbar-color: var(--border) transparent; display: flex; flex-direction: column; gap: 6px; }
.health-alert-item { padding: 10px 14px; background: var(--bg-deep); border-radius: 8px; border-left: 3px solid var(--border); }
.health-alert-item.alert-CRITICAL { border-left-color: var(--accent-rose); }
.health-alert-item.alert-WARNING { border-left-color: var(--accent-amber); }
.health-alert-item.alert-SUGGESTION { border-left-color: var(--accent-blue); }
.health-alert-item.alert-INFO { border-left-color: var(--accent-cyan); }
.health-alert-title { font-size: 13px; font-weight: 600; margin-bottom: 4px; display: flex; align-items: center; gap: 8px; }
.health-alert-title .alert-tag { font-size: 10px; font-family: 'JetBrains Mono', monospace; padding: 1px 6px; border-radius: 3px; font-weight: 500; }
.alert-tag.tag-CRITICAL { background: var(--glow-rose); color: var(--accent-rose); }
.alert-tag.tag-WARNING { background: var(--glow-amber); color: var(--accent-amber); }
.alert-tag.tag-SUGGESTION { background: rgba(59,130,246,0.15); color: var(--accent-blue); }
.alert-tag.tag-INFO { background: rgba(6,182,212,0.15); color: var(--accent-cyan); }
.health-alert-detail { font-size: 12px; color: var(--text-secondary); line-height: 1.5; }
@media (max-width: 900px) { .health-grid { grid-template-columns: 1fr; } }
</style>
</head>
<body>
<div class="dashboard">
  <header class="header">
    <div class="header-left">
      <div class="logo">B</div>
      <div class="header-title">BlueprintLLM <span>Training Observatory</span></div>
    </div>
    <div class="header-right">
      <div class="generated-time">Updated 2026-03-01 00:21:41</div>
      <div class="status-pill idle">
        <div class="status-dot"></div>
        <span>v0</span>
      </div>
      <div class="version-badge">v0 ¬∑ ? ¬∑ Unknown</div>
    </div>
  </header>
  <div class="metrics-row">
    <div class="metric-card blue">
      <div class="metric-label">Training Loss</div>
      <div class="metric-value">0.000</div>
      <div class="metric-sub">from 0.000 <span class="metric-trend up">‚Üì 0%</span></div>
    </div>
    <div class="metric-card emerald">
      <div class="metric-label">Token Accuracy</div>
      <div class="metric-value">0.0%</div>
      <div class="metric-sub">eval: 0.0% <span class="metric-trend up">‚Üë generalizing</span></div>
    </div>
    <div class="metric-card amber">
      <div class="metric-label">Nodes Mastered</div>
      <div class="metric-value">0</div>
      <div class="metric-sub">of 42 target nodes</div>
    </div>
    <div class="metric-card violet">
      <div class="metric-label">Teaching Cycles</div>
      <div class="metric-value">0</div>
      <div class="metric-sub">0 learning ¬∑ 0 struggling</div>
    </div>
  </div>
  <div class="main-grid">
    <div class="panel">
      <div class="panel-header">
        <div class="panel-title"><span class="icon">üìâ</span> Training Loss Curve</div>
        <div class="panel-badge">0.0 epochs ¬∑ 0 steps</div>
      </div>
      <div class="chart-container">
        <svg id="lossChart" viewBox="0 0 700 200" preserveAspectRatio="none" style="width:100%;height:100%">
          <g class="chart-grid">
            <line x1="40" y1="10" x2="690" y2="10"/>
            <line x1="40" y1="57" x2="690" y2="57"/>
            <line x1="40" y1="105" x2="690" y2="105"/>
            <line x1="40" y1="152" x2="690" y2="152"/>
            <line x1="40" y1="180" x2="690" y2="180"/>
          </g>
          <text x="35" y="14" text-anchor="end" fill="#556680" font-size="9">2.5</text>
          <text x="35" y="61" text-anchor="end" fill="#556680" font-size="9">1.8</text>
          <text x="35" y="109" text-anchor="end" fill="#556680" font-size="9">1.0</text>
          <text x="35" y="156" text-anchor="end" fill="#556680" font-size="9">0.5</text>
          <text x="35" y="184" text-anchor="end" fill="#556680" font-size="9">0.2</text>
          <text x="40" y="197" text-anchor="middle" fill="#556680" font-size="9">0</text>
          <text x="365" y="197" text-anchor="middle" fill="#556680" font-size="9">1.0</text>
          <text x="690" y="197" text-anchor="middle" fill="#556680" font-size="9">2.0</text>
          <path class="chart-area" fill="url(#blueGrad)" d=""/>
          <path id="lossLine" class="chart-line" stroke="var(--accent-blue)" d=""/>
          <g id="evalDots"></g>
          <defs>
            <linearGradient id="blueGrad" x1="0" y1="0" x2="0" y2="1">
              <stop offset="0%" stop-color="var(--accent-blue)" stop-opacity="0.3"/>
              <stop offset="100%" stop-color="var(--accent-blue)" stop-opacity="0"/>
            </linearGradient>
          </defs>
        </svg>
      </div>
      <div class="legend">
        <div class="legend-item"><div class="legend-dot" style="background:var(--accent-blue)"></div> Train Loss</div>
        <div class="legend-item"><div class="legend-dot" style="background:var(--accent-cyan)"></div> Eval Loss</div>
      </div>
    </div>
    <div class="panel">
      <div class="panel-header">
        <div class="panel-title"><span class="icon">üß†</span> Node Mastery</div>
        <div class="panel-badge" id="masteryBadge">0 mastered ¬∑ 0 learning</div>
      </div>
      <div class="node-grid" id="nodeGrid"></div>
      <div class="legend">
        <div class="legend-item"><div class="legend-dot" style="background:var(--accent-emerald)"></div> Mastered</div>
        <div class="legend-item"><div class="legend-dot" style="background:var(--accent-amber)"></div> Learning</div>
        <div class="legend-item"><div class="legend-dot" style="background:var(--accent-rose)"></div> Struggling</div>
        <div class="legend-item"><div class="legend-dot" style="background:var(--border)"></div> Untrained</div>
      </div>
    </div>
  </div>
  <div class="bottom-grid">
    <div class="panel">
      <div class="panel-header">
        <div class="panel-title"><span class="icon">üîÑ</span> Teaching Loop Progress</div>
        <div class="panel-badge">cycle 0</div>
      </div>
      <div class="timeline" id="timeline"></div>
    </div>
    <div class="panel">
      <div class="panel-header">
        <div class="panel-title"><span class="icon">üîç</span> Error Categories</div>
        <div class="panel-badge">from last exam</div>
      </div>
      <div class="error-bars">
        <div class="error-bar-row">
          <div class="error-bar-label">Missing Nodes</div>
          <div class="error-bar-track"><div class="error-bar-fill rose" style="width:0%"></div></div>
          <div class="error-bar-value">‚Äî</div>
        </div>
        <div class="error-bar-row">
          <div class="error-bar-label">Missing EXEC</div>
          <div class="error-bar-track"><div class="error-bar-fill amber" style="width:0%"></div></div>
          <div class="error-bar-value">‚Äî</div>
        </div>
        <div class="error-bar-row">
          <div class="error-bar-label">Missing DATA</div>
          <div class="error-bar-track"><div class="error-bar-fill blue" style="width:0%"></div></div>
          <div class="error-bar-value">‚Äî</div>
        </div>
        <div class="error-bar-row">
          <div class="error-bar-label">Extra Lines</div>
          <div class="error-bar-track"><div class="error-bar-fill violet" style="width:0%"></div></div>
          <div class="error-bar-value">‚Äî</div>
        </div>
        <div class="error-bar-row">
          <div class="error-bar-label">Format Errors</div>
          <div class="error-bar-track"><div class="error-bar-fill rose" style="width:0%"></div></div>
          <div class="error-bar-value">‚Äî</div>
        </div>
      </div>
      <div style="margin-top:20px; padding-top:16px; border-top:1px solid var(--border)">
        <div class="panel-title" style="margin-bottom:10px; font-size:13px;">
          <span class="icon">üìã</span> Recent Activity
        </div>
        <div class="log-container"><div class="log-line">
            <span class="log-time">12:21 AM</span>
            <span class="log-msg info">Dashboard initialized ‚Äî awaiting first training run</span>
        </div>
</div>
      </div>
    </div>
  </div>
  <div class="panel health-grid-panel" style="margin-top:28px">
    <div class="panel-header">
      <div class="panel-title"><span class="icon">ü©∫</span> Training Health Monitor</div>
      <div class="panel-badge">7 alerts</div>
    </div>
    <div class="health-grid">
      <div class="health-status">
        <div class="health-badge health-warn">WARNING</div>
        <div class="health-counts">
          <div class="health-count crit"><span>Critical</span><span>0</span></div>
          <div class="health-count warn"><span>Warning</span><span>2</span></div>
          <div class="health-count sugg"><span>Suggestion</span><span>1</span></div>
          <div class="health-count info"><span>Info</span><span>4</span></div>
        </div>
      </div>
      <div class="health-alert-list" id="healthAlerts"></div>
    </div>
  </div>
</div>
<script>
const LOSS_HISTORY = [];
const EVAL_POINTS = [];
const NODE_MASTERY = [{"name": "BeginPlay", "category": "Events", "score": null}, {"name": "PrintString", "category": "Debug", "score": null}, {"name": "Delay", "category": "Flow", "score": null}, {"name": "Branch", "category": "Flow", "score": null}, {"name": "Sequence", "category": "Flow", "score": null}, {"name": "FlipFlop", "category": "Flow", "score": null}, {"name": "DoOnce", "category": "Flow", "score": null}, {"name": "Gate", "category": "Flow", "score": null}, {"name": "ForEachLoop", "category": "Flow", "score": null}, {"name": "WhileLoop", "category": "Flow", "score": null}, {"name": "CustomEvent", "category": "Events", "score": null}, {"name": "EventTick", "category": "Events", "score": null}, {"name": "InputAction", "category": "Input", "score": null}, {"name": "OnOverlap", "category": "Collision", "score": null}, {"name": "OnHit", "category": "Collision", "score": null}, {"name": "SpawnActor", "category": "Actor", "score": null}, {"name": "DestroyActor", "category": "Actor", "score": null}, {"name": "SetActorLocation", "category": "Transform", "score": null}, {"name": "GetActorLocation", "category": "Transform", "score": null}, {"name": "AddActorOffset", "category": "Transform", "score": null}, {"name": "SetActorRotation", "category": "Transform", "score": null}, {"name": "SetVisibility", "category": "Rendering", "score": null}, {"name": "SetStaticMesh", "category": "Rendering", "score": null}, {"name": "PlaySound", "category": "Audio", "score": null}, {"name": "PlayAnimMontage", "category": "Animation", "score": null}, {"name": "Timeline", "category": "Animation", "score": null}, {"name": "SetTimer", "category": "Timer", "score": null}, {"name": "ClearTimer", "category": "Timer", "score": null}, {"name": "CastTo", "category": "Casting", "score": null}, {"name": "IsValid", "category": "Utility", "score": null}, {"name": "GetPlayerCharacter", "category": "Player", "score": null}, {"name": "GetPlayerController", "category": "Player", "score": null}, {"name": "SetVariable", "category": "Variables", "score": null}, {"name": "GetVariable", "category": "Variables", "score": null}, {"name": "MathAdd", "category": "Math", "score": null}, {"name": "MathMultiply", "category": "Math", "score": null}, {"name": "VectorLength", "category": "Math", "score": null}, {"name": "GetDistanceTo", "category": "Math", "score": null}, {"name": "Lerp", "category": "Math", "score": null}, {"name": "MakeArray", "category": "Arrays", "score": null}, {"name": "ArrayAdd", "category": "Arrays", "score": null}, {"name": "ArrayGet", "category": "Arrays", "score": null}];
const LESSONS = [{"id": 1, "title": "Lesson 01", "prompts": 20, "status": "active", "score": null}, {"id": 2, "title": "Lesson 02", "prompts": 24, "status": "pending", "score": null}, {"id": 3, "title": "Lesson 03", "prompts": 20, "status": "pending", "score": null}, {"id": 4, "title": "Lesson 04", "prompts": 20, "status": "pending", "score": null}, {"id": 5, "title": "Lesson 05", "prompts": 20, "status": "pending", "score": null}];
const HEALTH_ALERTS = [{"level": "INFO", "dimension": "overfitting", "title": "Generalization: healthy", "detail": "Train accuracy 94.7% vs eval accuracy 95.9% (gap: -1.2%).", "metric": "accuracy_gap", "value": -0.012012340128421783, "threshold": null}, {"level": "INFO", "dimension": "learning_rate", "title": "Learning rate configuration", "detail": "LR: 0.0002, total steps: 49, loss range: 2.8755 -> 0.2431.", "metric": "learning_rate", "value": 0.0002, "threshold": null}, {"level": "INFO", "dimension": "dataset_quality", "title": "Dataset composition", "detail": "Total: 662 | Synthetic: 662 | Lesson: 0 | Auto-translated: 0 | Manual: 0 | Duplicates: 44", "metric": "dataset_total", "value": 662, "threshold": null}, {"level": "INFO", "dimension": "node_mastery", "title": "Node mastery snapshot", "detail": "28 nodes scored: 3 mastered (>=85%), 15 learning (60-84%), 10 struggling (<60%).", "metric": "nodes_mastered", "value": 3, "threshold": null}, {"level": "SUGGESTION", "dimension": "dataset_quality", "title": "Missing node types in training data", "detail": "7 key node types have zero training examples: CastTo, SetTimer, Timeline, CustomEvent, EventTick, OnOverlap, OnHit. Consider adding synthetic examples for these.", "metric": "missing_key_nodes", "value": 7, "threshold": null}, {"level": "WARNING", "dimension": "dataset_quality", "title": "Duplicate training examples", "detail": "Found 44 duplicate outputs (6.6% of dataset). Duplicates cause the model to over-weight those patterns.", "metric": "duplicate_count", "value": 44, "threshold": null}, {"level": "WARNING", "dimension": "node_mastery", "title": "Node scores stagnant for 3+ cycles", "detail": "1 node(s) unchanged: Event_AnyDamage (24%). Consider targeted lessons or more examples for these types.", "metric": "stagnant_node_count", "value": 1, "threshold": 1}];
const HEALTH_SUMMARY = {"total_alerts": 7, "by_level": {"INFO": 4, "SUGGESTION": 1, "WARNING": 2, "CRITICAL": 0}, "overall_health": "warning"};

function renderChart() {
  if (!LOSS_HISTORY.length) return;
  const maxEpoch = Math.max(...LOSS_HISTORY.map(p => p.epoch), 2);
  const maxLoss = 2.6;
  const cL=44, cR=690, cT=8, cB=182, cW=cR-cL, cH=cB-cT;
  const x = e => cL + (e/maxEpoch)*cW;
  const y = l => cB - (l/maxLoss)*cH;
  let d = LOSS_HISTORY.map((p,i) => `${i===0?'M':'L'}${x(p.epoch)},${y(p.loss)}`).join(' ');
  document.getElementById('lossLine').setAttribute('d', d);
  const last = LOSS_HISTORY[LOSS_HISTORY.length-1], first = LOSS_HISTORY[0];
  document.querySelector('.chart-area').setAttribute('d', d + ` L${x(last.epoch)},${cB} L${x(first.epoch)},${cB} Z`);
  const eg = document.getElementById('evalDots');
  eg.innerHTML = EVAL_POINTS.map(p => `<circle cx="${x(p.epoch)}" cy="${y(p.loss)}" r="5" fill="var(--accent-cyan)" stroke="var(--bg-deep)" stroke-width="2"/><text x="${x(p.epoch)}" y="${y(p.loss)-10}" text-anchor="middle" fill="var(--accent-cyan)" font-size="9">${p.loss.toFixed(3)}</text>`).join('');
}

function renderNodes() {
  const g = document.getElementById('nodeGrid');
  const sorted = [...NODE_MASTERY].sort((a,b) => { if(a.score===null&&b.score===null)return 0; if(a.score===null)return 1; if(b.score===null)return -1; return b.score-a.score; });
  g.innerHTML = sorted.map(n => {
    let sc,scC,scT;
    if(n.score===null){sc='untrained';scC='none';scT='‚Äî';}
    else if(n.score>=0.85){sc='mastered';scC='high';scT=Math.round(n.score*100)+'%';}
    else if(n.score>=0.6){sc='learning';scC='mid';scT=Math.round(n.score*100)+'%';}
    else{sc='struggling';scC='low';scT=Math.round(n.score*100)+'%';}
    return `<div class="node-item" title="${n.category}"><div class="node-status ${sc}"></div><div class="node-name">${n.name}</div><div class="node-score ${scC}">${scT}</div></div>`;
  }).join('');
}

function renderTimeline() {
  const c = document.getElementById('timeline');
  c.innerHTML = LESSONS.map((l,i) => {
    const isLast = i===LESSONS.length-1;
    let dot = l.status==='complete'?'complete':l.status==='active'?'active':'pending';
    let scoreH = '';
    if(l.score!==null){const sc=l.score>=80?'good':l.score>=50?'ok':'pending-score';scoreH=`<div class="timeline-score ${sc}">${l.score}% exam score</div>`;}
    else if(l.status==='active'){scoreH=`<div class="timeline-score pending-score">exam pending</div>`;}
    return `<div class="timeline-item"><div class="timeline-line"><div class="timeline-dot ${dot}"></div>${!isLast?'<div class="timeline-connector"></div>':''}</div><div class="timeline-content"><div class="timeline-title">${l.title}</div><div class="timeline-meta">${l.prompts} prompts</div>${scoreH}</div></div>`;
  }).join('');
}

function renderHealthAlerts() {
  const c = document.getElementById('healthAlerts');
  if (!c || !HEALTH_ALERTS.length) { if(c) c.innerHTML='<div style="color:var(--text-dim);font-size:13px;padding:20px;">No health data yet. Run the health monitor after training.</div>'; return; }
  const filtered = HEALTH_ALERTS.filter(a => a.level !== 'INFO');
  const infoAlerts = HEALTH_ALERTS.filter(a => a.level === 'INFO');
  const all = [...filtered, ...infoAlerts];
  c.innerHTML = all.map(a => {
    return `<div class="health-alert-item alert-${a.level}"><div class="health-alert-title"><span class="alert-tag tag-${a.level}">${a.level}</span>${a.title}</div><div class="health-alert-detail">${a.detail}</div></div>`;
  }).join('');
}

renderChart(); renderNodes(); renderTimeline(); renderHealthAlerts();

// Fix error bar percentages
const errMax = 1;
document.querySelectorAll('.error-bar-fill').forEach(el => {
  const w = parseFloat(el.style.width);
  if(isNaN(w) || w === 0) el.style.width = '0%';
});
</script>
</body>
</html>